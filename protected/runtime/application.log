2014/02/09 17:51:08 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`ipoints`.`user`, CONSTRAINT `groupfk` FOREIGN KEY (`group_id`) REFERENCES `group` (`group_id`) ON DELETE NO ACTION ON UPDATE NO ACTION). The SQL statement executed was: UPDATE `user` SET `user_id`=:yp0, `username`=:yp1, `email`=:yp2, `password`=:yp3, `created_at`=:yp4, `group_id`=:yp5 WHERE `user`.`user_id`=1.
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (97)
in /Users/iacopop/Sites/ipoints_app/index.php (13)
2014/02/09 17:51:08 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand failed to execute the SQL statement: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`ipoints`.`user`, CONSTRAINT `groupfk` FOREIGN KEY (`group_id`) REFERENCES `group` (`group_id`) ON DELETE NO ACTION ON UPDATE NO ACTION). The SQL statement executed was: UPDATE `user` SET `user_id`=:yp0, `username`=:yp1, `email`=:yp2, `password`=:yp3, `created_at`=:yp4, `group_id`=:yp5 WHERE `user`.`user_id`=1' in /Users/iacopop/Sites/yii/framework/db/CDbCommand.php:358
Stack trace:
#0 /Users/iacopop/Sites/yii/framework/db/ar/CActiveRecord.php(1748): CDbCommand->execute()
#1 /Users/iacopop/Sites/yii/framework/db/ar/CActiveRecord.php(1124): CActiveRecord->updateByPk('1', Array)
#2 /Users/iacopop/Sites/yii/framework/db/ar/CActiveRecord.php(806): CActiveRecord->update(NULL)
#3 /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php(97): CActiveRecord->save()
#4 [internal function]: UserController->actionUpdate('1')
#5 /Users/iacopop/Sites/yii/framework/web/actions/CAction.php(108): ReflectionMethod->invokeArgs(Object(UserController), Array)
#6 /Users/iacopop/Sites/yii/framework/web/actions/CInlineAction.php(47): CAction->runWithParamsInternal(Object(UserController), Object(ReflectionMethod), Array)
#7 /Users/iacopop/Sites/yii/framework/web/CController.php(308): CInlineAction->runWithParams(Array)
#8 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#9 /Users/iacopop/Sites/yii/framework/web/filters/CFilter.php(40): CFilterChain->run()
#10 /Users/iacopop/Sites/yii/framework/web/CController.php(1145): CFilter->filter(Object(CFilterChain))
#11 /Users/iacopop/Sites/yii/framework/web/filters/CInlineFilter.php(58): CController->filterAccessControl(Object(CFilterChain))
#12 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#13 /Users/iacopop/Sites/yii/framework/web/CController.php(291): CFilterChain->run()
#14 /Users/iacopop/Sites/yii/framework/web/CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#15 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(282): CController->run('update')
#16 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(141): CWebApplication->runController('user/update')
#17 /Users/iacopop/Sites/yii/framework/base/CApplication.php(180): CWebApplication->processRequest()
#18 /Users/iacopop/Sites/ipoints_app/index.php(13): CApplication->run()
#19 {main}
REQUEST_URI=/~iacopop/ipoints_app/index.php?r=user/update&id=1
HTTP_REFERER=http://localhost/~iacopop/ipoints_app/index.php?r=user/update&id=1
---
2014/02/09 17:59:36 [error] [php] Invalid argument supplied for foreach() (/Users/iacopop/Sites/yii/framework/web/helpers/CHtml.php:2325)
Stack trace:
#0 /Users/iacopop/Sites/ipoints_app/protected/views/user/_form.php(48): CActiveForm->dropDownList()
#1 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(126): require()
#2 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(95): UserController->renderInternal()
#3 /Users/iacopop/Sites/yii/framework/web/CController.php(869): UserController->renderFile()
#4 /Users/iacopop/Sites/ipoints_app/protected/views/user/update.php(21): UserController->renderPartial()
#5 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(126): require()
#6 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(95): UserController->renderInternal()
#7 /Users/iacopop/Sites/yii/framework/web/CController.php(869): UserController->renderFile()
#8 /Users/iacopop/Sites/yii/framework/web/CController.php(782): UserController->renderPartial()
#9 /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php(103): UserController->render()
#10 unknown(0): UserController->actionUpdate()
#11 /Users/iacopop/Sites/yii/framework/web/actions/CAction.php(108): ReflectionMethod->invokeArgs()
#12 /Users/iacopop/Sites/yii/framework/web/actions/CInlineAction.php(47): CInlineAction->runWithParamsInternal()
#13 /Users/iacopop/Sites/yii/framework/web/CController.php(308): CInlineAction->runWithParams()
#14 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(133): UserController->runAction()
#15 /Users/iacopop/Sites/yii/framework/web/filters/CFilter.php(40): CFilterChain->run()
#16 /Users/iacopop/Sites/yii/framework/web/CController.php(1145): CAccessControlFilter->filter()
#17 /Users/iacopop/Sites/yii/framework/web/filters/CInlineFilter.php(58): UserController->filterAccessControl()
#18 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(130): CInlineFilter->filter()
#19 /Users/iacopop/Sites/yii/framework/web/CController.php(291): CFilterChain->run()
#20 /Users/iacopop/Sites/yii/framework/web/CController.php(265): UserController->runActionWithFilters()
#21 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(282): UserController->run()
#22 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(141): CWebApplication->runController()
#23 /Users/iacopop/Sites/yii/framework/base/CApplication.php(180): CWebApplication->processRequest()
#24 /Users/iacopop/Sites/ipoints_app/index.php(13): CWebApplication->run()
REQUEST_URI=/~iacopop/ipoints_app/index.php?r=user/update&id=1
in /Users/iacopop/Sites/ipoints_app/protected/views/user/_form.php (48)
in /Users/iacopop/Sites/ipoints_app/protected/views/user/update.php (21)
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (103)
2014/02/09 18:01:51 [warning] [application] Failed to set unsafe attribute "group" of "User".
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (96)
in /Users/iacopop/Sites/ipoints_app/index.php (13)
2014/02/09 18:02:08 [warning] [application] Failed to set unsafe attribute "group" of "User".
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (96)
in /Users/iacopop/Sites/ipoints_app/index.php (13)
2014/02/09 18:03:32 [warning] [application] Failed to set unsafe attribute "group" of "User".
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (72)
in /Users/iacopop/Sites/ipoints_app/index.php (13)
2014/02/09 18:03:35 [warning] [application] Failed to set unsafe attribute "group" of "User".
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (72)
in /Users/iacopop/Sites/ipoints_app/index.php (13)
2014/02/09 18:04:30 [error] [php] Object of class Group could not be converted to string (/Users/iacopop/Sites/yii/framework/web/helpers/CHtml.php:2343)
Stack trace:
#0 /Users/iacopop/Sites/ipoints_app/protected/views/user/_form.php(53): CActiveForm->dropDownList()
#1 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(126): require()
#2 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(95): UserController->renderInternal()
#3 /Users/iacopop/Sites/yii/framework/web/CController.php(869): UserController->renderFile()
#4 /Users/iacopop/Sites/ipoints_app/protected/views/user/update.php(21): UserController->renderPartial()
#5 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(126): require()
#6 /Users/iacopop/Sites/yii/framework/web/CBaseController.php(95): UserController->renderInternal()
#7 /Users/iacopop/Sites/yii/framework/web/CController.php(869): UserController->renderFile()
#8 /Users/iacopop/Sites/yii/framework/web/CController.php(782): UserController->renderPartial()
#9 /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php(103): UserController->render()
#10 unknown(0): UserController->actionUpdate()
#11 /Users/iacopop/Sites/yii/framework/web/actions/CAction.php(108): ReflectionMethod->invokeArgs()
#12 /Users/iacopop/Sites/yii/framework/web/actions/CInlineAction.php(47): CInlineAction->runWithParamsInternal()
#13 /Users/iacopop/Sites/yii/framework/web/CController.php(308): CInlineAction->runWithParams()
#14 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(133): UserController->runAction()
#15 /Users/iacopop/Sites/yii/framework/web/filters/CFilter.php(40): CFilterChain->run()
#16 /Users/iacopop/Sites/yii/framework/web/CController.php(1145): CAccessControlFilter->filter()
#17 /Users/iacopop/Sites/yii/framework/web/filters/CInlineFilter.php(58): UserController->filterAccessControl()
#18 /Users/iacopop/Sites/yii/framework/web/filters/CFilterChain.php(130): CInlineFilter->filter()
#19 /Users/iacopop/Sites/yii/framework/web/CController.php(291): CFilterChain->run()
#20 /Users/iacopop/Sites/yii/framework/web/CController.php(265): UserController->runActionWithFilters()
#21 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(282): UserController->run()
#22 /Users/iacopop/Sites/yii/framework/web/CWebApplication.php(141): CWebApplication->runController()
#23 /Users/iacopop/Sites/yii/framework/base/CApplication.php(180): CWebApplication->processRequest()
#24 /Users/iacopop/Sites/ipoints_app/index.php(13): CWebApplication->run()
REQUEST_URI=/~iacopop/ipoints_app/index.php?r=user/update&id=1
in /Users/iacopop/Sites/ipoints_app/protected/views/user/_form.php (53)
in /Users/iacopop/Sites/ipoints_app/protected/views/user/update.php (21)
in /Users/iacopop/Sites/ipoints_app/protected/controllers/UserController.php (103)
